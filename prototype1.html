<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="prototype1styles.css">

   <!-- TODO: Change title -->
    <title>Midterm Project</title>

    <!-- Load Bulma from CDN (consider saving it to repository instead) -->
    <!-- https://bulma.io/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">

    <!-- Load Font Awesome 5 (free) icons -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  </head>

  <body>

    <!-- Page header -->
    <!-- https://bulma.io/documentation/layout/hero/ -->
    <section class="hero is-primary is-bold">
      <div class="hero-body">
        <div class="container">
          <!-- TODO: Change title -->
          <h1 class="title">MidTerm Project</h1>
          <!-- TODO: Change subtitle -->
          <h2 class="subtitle">SF Fire Department Calls for Service DataSet Analysis</h2>
        </div>
      </div>
    </section>
    <!-- End page header -->

    <!-- Page navigation -->
    <!-- https://bulma.io/documentation/components/navbar/ -->
  <nav class="navbar is-light" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <!-- TODO: Change link to repository homepage if needed -->
        <!-- TODO: Change which navbar-item is-active if needed -->
        <a class="navbar-item" href="index.html">
          <span class="icon"><i class="fas fa-home"></i></span>
          <span>Home</span>
        </a>

        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="main-menu">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="main-menu" class="navbar-menu has-text-weight-medium">
        <!-- Left navbar items -->
        <div class="navbar-start">
          <a class="navbar-item" href="data.html" title="Data">
            <span class="icon"><i class="fas fa-table"></i></span>
            <span>Data</span>
          </a>

          <!-- TODO: Modify or remove dropdown -->
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link is-active">
              <span class="icon"><img src="https://img.icons8.com/android/24/000000/scatter-plot.png" style="width: 15px;"></span>
            <span>Visualization</span>
            </a>

            <div class="navbar-dropdown">

              <a class="navbar-item is-active" href="prototype1.html">
                <span class="icon"><i class="fas fa-chart-bar"></i></span>
                <span>Interactive Bar Chart</span>
              </a>
              <a class="navbar-item" href="prototype2.html">
                <span class="icon"><i class="fas fa-chart-area"></i></span>
                <span>Small Multiples Bubble Chart</span>
              </a>


              <a class="navbar-item" href="prototype3.html">
                <span class="icon"><i class="fas fa-chart-pie"></i></span>
                <span>Prototype 3</span>
              </a>
            </div>
          </div>
        </div>

        <!-- Right navbar items -->
        <div class="navbar-end">
          <!-- TODO: Update as needed -->

          <a class="navbar-item" href="acknowledgement.html" title="About">
            <span class="icon"><i class="fas fa-info-circle"></i></span>
            <span>Acknowledgement</span>
          </a>

          <a class="navbar-item" href="about.html" title="About">
            <span class="icon"><i class="fas fa-info-circle"></i></span>
            <span>About</span>
          </a>
        </div>
      </div>
    </div>
  </nav>
    <!-- End page navigation -->

    <section class="section">
      <div class="container">
        <!-- Begin page content -->
        <div class="content">
            <h1 id="home" class="title">
                <!-- TODO: Change page title -->
                Prototype 1 - Number of Incidents reported in Each Batallion for the Year 2019
            </h1>
    
            <h5>Aryan Dilip Choudhary</h5>

          <h4>Wrangling specific to prototype</h4>
          <p>For this tableau prototype the data is filtered by "Batallion" not "B99", "Year" is 2019. The data is grouped by Batallion, Watch Date (Months). The data is aggregated by Incident Number as sum.</p>

            <pre style="font-size: 14px; font-family: Dank Mono Regular;">
    Filtered By: Batallion not "B99", Year 2019
    Grouping By: Batallion, Watch Date (Months), and Call Type Group (Interactivity)
    Aggregated By: Incident Number (sum)
            </pre>

            <h4> Tableau Prototype [Beta Release]</h4>
            <img src="midterm_prototype_1.png" alt="prototype1" width="960" height="500">

            <h4> Tableau Prototypes [Final Release]</h4>
            <img src="midterm_prototype_1b.png" alt="prototype1b" width="1200" height="500">

            <img src="midterm_prototype_1b_interactive.png" alt="prototype1c" width="1200" height="500">

            <section class="section">
              <h4>D3 version</h4>
              
              <div class="container content">

                <p style="font-size: 18px;">Number of Incidents reported in each Battalion for the Year 2019</p>
          
                <svg id ="updateButton"></svg>
                <br>
                <svg id="D3Prototype1"></svg>
                <svg id ="legend"></svg>

                <p class="is-size-7 has-text-grey">
                  Source: <a href="https://data.sfgov.org/Public-Safety/Fire-Department-Calls-for-Service/nuek-vuh3/data" target="_blank">https://data.sfgov.org/Public-Safety/Fire-Department-Calls-for-Service/nuek-vuh3/data</a>

                  <br>

                  Created by - Aryan Choudhary
                </p>
          
              </div>
            </section>

          <script src="https://d3js.org/d3.v5.min.js"></script>
          <script src="javascript/d3-button.js"></script>

          <!-- include d3-legend: https://d3-legend.susielu.com/ -->
         <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js" integrity="sha256-qo76Vs9B6JAALbrTn+PcN1r09hbNLd2M78V19glOMeU=" crossorigin="anonymous"></script>

         <script src="javascript/prototype1.js"></script>

         <h4>Interactivity for the Visualization</h4>
         <p>Following interactivities has been implemented for the visualization:<br>
            <ul>
              <li>Hovering over a bar highlights all the bars related to that particular Batallion and fades all of the bars belonging to the other Batallions.</li>

              <li>A button is provided at the top for grouping the data based on battalion. When that button is pressed, another button is provided for grouping based on month.</li>

              <li>Provided on demand data display for each bar. When a user hovers on a bar then a tool tip pops up with details regarding, Battalion, Month, Number of incidents and year of that data element.</li>
            </ul>
        </p>

         <h4>Peer Review Feedback</h4>
         <p>
           <ul>

              <li>Use a non-paired color scheme. The paired color scheme gives the impression that some battalions are related, which is not the case. Battalion labels on x axis are sometimes missing</li>

              <li>Since there is already color encoding, it seems unnecessary to have the bottom axis as well, data ink can be reduced there. The number of incidents also can be reliant on population for the neighborhood that battalion serves, so maybe a ratio would be better for lie factor rather than raw count. Otherwise, this seems like a strong visualization, and the planned interactivity seems very useful for interpretation.</li>

              <li>The graph is easy to understand and very dense in a not-overwhelming way. Maybe there is too much non-data related ink in the graph e.g B02 extra zeros and Month label.</li>

              <li>color encoding very clear for readers, high data density</li>

              <li>This one is very interesting  however discerning the colors was a bit hard for me. Also seeing all the battalions names could help.</li>

              <li>There is a lot of colors, it might be helpful to add a very small margin in between months, I think the planned interactivity will be really cool and can't wait to see. </li>

              <li>The bar chart looks good and easy to read. the x axis batallion names are too squished together.  Overall with the planeed interactivity it will be really good.</li>

              <li>Nice chart with good presentation</li>

              <li>Excellent Job!</li>

           </ul>
         </p>

         <h4>Data Encoding and Interpretation</h4>

         <p>Avg. number of Incidents vs Months. Colour shows different Battalion. The length of bar shows the incident number count. The x axis(vertical axis) is represented by Month and y axis is represented by Incident Numbers.</p>

          <h4>Conclusion based on the prototype</h4>
          <p>For year 2019, "B02" is the most active Batallion. December 2019 is the month with the highest number of incidents for the Batallion "B02". The second most active Batallion is "B03". The prototype shows an increase in number of incidents from January to December except for the month of July and November.</p>

          <h4>How this visualization supports the theme?</h4>

          <p>Visualization helps in analysing the most active/busiest batallion for the year 2019.</p>

          <h4>Inspiration</h4>
          <p>
            <ul>
              <li><a href="https://bl.ocks.org/Andrew-Reid/64a6c1892d1893009d2b99b8abee75a7" target="_blank">Grouped Bar Chart Toggle Series</a></li>

              <li><a href="https://observablehq.com/@sjengle/interactivity" target="_blank">Interactive Scatter Plot By Sophie Engle</a></li>

              <li><a href="http://bl.ocks.org/phil-pedruco/9032348" target="_blank">Bar chart with mouseover event</a></li>

              <li><a href="http://bl.ocks.org/caged/6476579" target="_blank">Using d3-tip to add tooltips to a d3 bar chart</a></li>
            </ul>
          </p>



        </div>
      <!-- End page content -->
    </div>
  </section>

  <!-- Page footer -->
  <!-- https://bulma.io/documentation/layout/footer/ -->
  <footer class="footer">
    <div class="content has-text-centered is-size-7" >
      <p>
        <a href="#top">
          <span class="fas fa-arrow-up"></span>
          <span class="has-text-weight-medium">Back to Top</span>
        </a>
      </p>

      <p>
        <!-- TODO: Change to link to your Github repository -->
        <a href="https://github.com/usf-cs360-spring2020/midterm-dataviz" target="_blank" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-github-alt"></i>&nbsp;<strong>Github</strong>
        </a>

        <a href="https://fontawesome.com/" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-font-awesome"></i>&nbsp;<strong>FontAwesome</strong>
        </a>

        <a href="https://bulma.io" class="button is-small">
          <img src="https://bulma.io/images/made-with-bulma--semiblack.png" alt="Made with Bulma" width="128" height="24">
        </a>
      </p>
    </div>
  </footer>
  <!-- End page footer -->

  <!-- Mobile menu responsiveness -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    if ($navbarBurgers.length > 0) {
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {
          const target = el.dataset.target;
          const $target = document.getElementById(target);
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');
        });
      });
    }
  });
  </script>
  <!-- End mobile menu responsiveness -->
  </body>

</html>
